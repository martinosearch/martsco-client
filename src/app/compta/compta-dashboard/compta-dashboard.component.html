<div class="main-container">
    <div class="size-container mat-elevation-z8">
        <div class="article-title">Etat de payment</div>

        <div class="table-container">
            <table mat-table [dataSource]="effectifBeans">
                <!-- Item Column -->
                <ng-container matColumnDef="class">
                    <th mat-header-cell *matHeaderCellDef class="table-eff-header"> Classes </th>
                    <td mat-cell *matCellDef="let item">
                        <div class="designation">{{item.schoolClassIdentityBean.designation}}</div>
                    </td>
                    <td mat-footer-cell *matFooterCellDef class="table-eff-footer"> Total </td>
                </ng-container>

                <!-- Cost Column -->
                <ng-container matColumnDef="male">
                    <th mat-header-cell *matHeaderCellDef class="table-eff-header"> Montant à Payé </th>
                    <td mat-cell *matCellDef="let item" class="numberCell"> {{item.sumAmount|number}}</td>
                    <td mat-footer-cell *matFooterCellDef class="table-eff-footer">
                        {{totalEffectifBean.sumAmount|number}}
                    </td>
                </ng-container>

                <!-- Cost Column -->
                <ng-container matColumnDef="female">
                    <th mat-header-cell *matHeaderCellDef class="table-eff-header"> Payé </th>
                    <td mat-cell *matCellDef="let item" class="numberCell"> {{item.paid|number}} </td>
                    <td mat-footer-cell *matFooterCellDef class="table-eff-footer"> {{totalEffectifBean.paid|number}}
                    </td>
                </ng-container>

                <!-- Cost Column -->
                <ng-container matColumnDef="sum">
                    <th mat-header-cell *matHeaderCellDef class="table-eff-header"> Reste à payé </th>
                    <td mat-cell *matCellDef="let item" class="totalCell"> {{item.leftPaid|number}}</td>
                    <td mat-footer-cell *matFooterCellDef class="table-eff-footer">
                        {{totalEffectifBean.leftPaid|number}}
                    </td>
                </ng-container>

                <!-- Cost Column -->
                <ng-container matColumnDef="per">
                    <th mat-header-cell *matHeaderCellDef class="table-eff-header"> Taux payé </th>
                    <td mat-cell *matCellDef="let item" class="totalCell"> {{(item.perPaid/100)|percent}}</td>
                    <td mat-footer-cell *matFooterCellDef class="table-eff-footer"> {{totalEffectifBean.perPaid|percent}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
            </table>
        </div>
    </div>

    <div class="etat-main">
        <div class="article-title">Etat journalier de la caisse</div>

        <div class="etat-container">
            <mat-card class="etat">
                <mat-card-header>
                    <div mat-card-avatar class="mdi mdi-account mdi-36px"></div>
                    <mat-card-title class="etat-title">Ma caisse</mat-card-title>
                    <mat-card-subtitle class="ma-cash">
                        <table>
                            <tr *ngFor="let item of myCashFlow.cashRegistrations">
                                <td *ngIf="item.amount>0">{{item.expenseDesignation}}</td>
                                <td *ngIf="item.amount>0" align="right">{{item.amount|number|devise}}</td>
                            </tr>
                        </table>
                    </mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <div class="totalMyCash">TOTAL: {{myCashFlow.amount|number|devise}}</div>
                </mat-card-content>
            </mat-card>

            <mat-card class="etat">
                <mat-card-header>
                    <div mat-card-avatar class="mdi mdi-account mdi-36px"></div>
                    <mat-card-title class="etat-title">Nbre de Caissiers actifs</mat-card-title>
                    <mat-card-subtitle class="etat-value">{{numberOfRegister}} </mat-card-subtitle>
                </mat-card-header>
            </mat-card>

            <mat-card class="etat">
                <mat-card-header>
                    <div mat-card-avatar class="mdi mdi-account mdi-36px"></div>
                    <mat-card-title class="etat-title">Nbre de frais gérés</mat-card-title>
                    <mat-card-subtitle class="etat-value">{{numberOfExpense}}</mat-card-subtitle>
                </mat-card-header>
            </mat-card>
        </div>
    </div>

    <div class="students-container mat-elevation-z8">
        <div class="article-title">20 dernières opérations de caisse</div>

        <div class="table-container">
            <table mat-table [dataSource]="twentythStudents">
                <!-- Item Column -->
                <ng-container matColumnDef="num">
                    <th mat-header-cell *matHeaderCellDef class="table-st-header"> N° ord. </th>
                    <td mat-cell *matCellDef="let item; let i = index;">
                        {{i+1}}
                    </td>
                </ng-container>

                <!-- Cost Column -->
                <ng-container matColumnDef="designation">
                    <th mat-header-cell *matHeaderCellDef class="table-st-header"> Designation </th>
                    <td mat-cell *matCellDef="let item" class="identity"> {{item.expense.designation}} </td>
                </ng-container>


                <!-- Cost Column -->
                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef class="table-st-header"> Montant </th>
                    <td mat-cell *matCellDef="let item" class="sex"> {{item.currentAmount}}</td>
                </ng-container>

                <tr mat-header-row class="table-eff-tr" *matHeaderRowDef="studentsDisplayedColumns; sticky: true"></tr>
                <tr mat-row class="table-eff-tr" *matRowDef="let row; columns: studentsDisplayedColumns;"></tr>
            </table>
        </div>
    </div>

</div>